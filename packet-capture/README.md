# packet-capture

_Scripts_ para realizar captura de tr√°fego separada por _hosts_.

## Arquivos e Pastas

- **get_iface_namespace.py** : _Script_ para retornar o _namespace_ e interface de rede no Linux de uma porta de um roteador no Openstack;
- **stratified-capture_v3.py/** : _Script_ de captura;


# Tech Info

## Disable GRO/LRO on Linux

```bash
# Show NIC Features
ethtool -k <interface>
# Show only offload
ethtool --show-offload <interface>

# Disable/Enable generic-receive-offload
ethtool -K <interface> gro on|off

# Disable/Enable large-receive-offload
ethtool -K <interface> lro on|off


## All Offloads
# Disable
ethtool -K <interface> tx off rx off gro off lro off tso off gso off ufo off
# Enable
ethtool -K <interface> tx on rx on gro on lro on tso on gso on ufo on
```

## Forcing Checksum Calculation

Many network cards support TCP/UDP/IP checksum offloading, so if you capture traffic which was generated by the same system, the checksums will be incorrect. This can obviously cause problems later on when you try replaying the traffic. By using the --fixcsum flag, you can force tcprewrite to fix the checksums. Note, tcprewrite will automatically fix checksums when editing packets.

```bash
tcprewrite --fixcsum --infile=input.pcap --outfile=output.pcap
```
